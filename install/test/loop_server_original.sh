#!/bin/bash
for i in {1..1}
do
	NOW=$(date '+%Y-%m-%dT%H:%M:%S.%3NZ')
	curl -u "elastic:vK39PY57MW46nf8V" -H "Content-Type: application/json" -X POST "https://es-logs.bk.sapo.pt/test-server-logs/_doc" -d '{"@timestamp": "'"${NOW}"'","kubernetes": {"container": {"name": "fe"},"node": {"uid": "0c37581b-65dd-4689-ba72-875c70e4d171","labels": {"kubernetes_io/arch": "amd64","kubernetes_io/hostname": "sgt-docker08","kubernetes_io/os": "linux","node-role_kubernetes_io/worker": "true","beta_kubernetes_io/arch": "amd64","beta_kubernetes_io/os": "linux"},"hostname": "sgt-docker08","name": "sgt-docker08"},"namespace_labels": {"cattle_io/creator": "norman","field_cattle_io/projectId": "p-l82tc"},"namespace_uid": "72054719-a829-4639-8c10-9e43235baba9","pod": {"ip": "10.42.8.47","name": "fe-6fc48c96df-hh8v9","uid": "1d6575d0-794a-4423-9a67-ecfc2b45bdfa"},"namespace": "sapo-conteudos-desportosapopt-prod","replicaset": {"name": "fe-6fc48c96df"},"labels": {"pod-template-hash": "6fc48c96df","app_kubernetes_io/instance": "sapo-conteudos-desportosapopt-prod","app_kubernetes_io/managed-by": "Tiller","app_kubernetes_io/name": "sapo-conteudos","app_kubernetes_io/version": "0.0.1","docker_sapo_pt/environment": "production","docker_sapo_pt/name": "fe","helm_sh/chart": "sapo-conteudos-0.0.11"}},"container": {"runtime": "docker","image": {"name": "harbor.bk.sapo.pt/conteudos/production/desportosapopt-fe:20221124_16f7ab817"},"id": "16f4b6de089e205e36a0d7b00b698e6385f3c22a1541a3c1803430bdaf2c0a94"},"ecs": {"version": "1.12.0"},"agent": {"ephemeral_id": "72cecd15-11bb-4f36-a928-0ee281e729a9","id": "a4f04210-0240-43e7-91fa-73365536cd71","name": "filebeat-filebeat-jgn5w","type": "filebeat","version": "7.16.1","hostname": "filebeat-filebeat-jgn5w"},"message": "2022-11-25T17:06:07 [epollEventLoopGroup-3-17] INFO REQUEST: http://desporto.api.backoffice.canais.bk.sapo.pt/v2/search?api_key=fc619df50dae35f7845516fdfb70331d624d675a&q=*:*&filter_query=type:post+AND+tag_slugs:judo&sort=date+desc&taxonomies=post_tag&page_size=24&page=12","stream": "stdout","host": {"name": "filebeat-filebeat-jgn5w"},"log": {"offset": 1243372332,"file": {"path": "/var/log/containers/fe-6fc48c96df-hh8v9_sapo-conteudos-desportosapopt-prod_fe-16f4b6de089e205e36a0d7b00b698e6385f3c22a1541a3c1803430bdaf2c0a94.log"}},"input": {"type": "container"},"fields": {"agent.version_a": "7.16.1","kubernetes.node.uid": "0c37581b-65dd-4689-ba72-875c70e4d171","kubernetes.labels.app_kubernetes_io/version_a": "0.0.1","kubernetes.namespace_uid_a": "72054719-a829-4639-8c10-9e43235baba9","kubernetes.namespace_uid": "72054719-a829-4639-8c10-9e43235baba9","host.name_a": "filebeat-filebeat-jgn5w","kubernetes.namespace_labels.cattle_io/creator_a": "norman","kubernetes.node.labels.kubernetes_io/os": "linux","kubernetes.labels.docker_sapo_pt/environment_a": "production","kubernetes.labels.docker_sapo_pt/name_a": "fe","container.id": "16f4b6de089e205e36a0d7b00b698e6385f3c22a1541a3c1803430bdaf2c0a94","agent.hostname_a": "filebeat-filebeat-jgn5w","kubernetes.labels.pod-template-hash": "6fc48c96df","kubernetes.node.labels.kubernetes_io/os_a": "linux","ecs.version_a": "1.12.0","container.image.name": "harbor.bk.sapo.pt/conteudos/production/desportosapopt-fe:20221124_16f7ab817","kubernetes.container.name_a": "fe","kubernetes.node.labels.beta_kubernetes_io/os": "linux","kubernetes.pod.name_a": "fe-6fc48c96df-hh8v9","kubernetes.namespace": "sapo-conteudos-desportosapopt-prod","agent.name": "filebeat-filebeat-jgn5w","kubernetes.node.labels.node-role_kubernetes_io/worker_a": "true","host.name": "filebeat-filebeat-jgn5w","kubernetes.labels.helm_sh/chart_a": "sapo-conteudos-0.0.11","kubernetes.labels.app_kubernetes_io/name": "sapo-conteudos","kubernetes.labels.app_kubernetes_io/instance": "sapo-conteudos-desportosapopt-prod","kubernetes.node.labels.kubernetes_io/hostname_a": "sgt-docker08","agent.id_a": "a4f04210-0240-43e7-91fa-73365536cd71","kubernetes.node.uid_a": "0c37581b-65dd-4689-ba72-875c70e4d171","input.type": "container","log.offset": 124337233,"agent.hostname": "filebeat-filebeat-jgn5w","container.runtime": "docker","agent.id": "a4f04210-0240-43e7-91fa-73365536cd71","ecs.version": "1.12.0","kubernetes.labels.helm_sh/chart": "sapo-conteudos-0.0.11","agent.version": "7.16.1","kubernetes.namespace_a": "sapo-conteudos-desportosapopt-prod","kubernetes.node.name": "sgt-docker08","stream_a": "stdout","input.type_a": "container","kubernetes.labels.app_kubernetes_io/managed-by_a": "Tiller","kubernetes.node.hostname": "sgt-docker08","kubernetes.labels.docker_sapo_pt/name": "fe","kubernetes.node.name_a": "sgt-docker08","kubernetes.pod.uid": "1d6575d0-794a-4423-9a67-ecfc2b45bdfa","kubernetes.node.hostname_a": "sgt-docker08","kubernetes.labels.docker_sapo_pt/environment": "production","agent.type": "filebeat","kubernetes.namespace_labels.field_cattle_io/projectId_a": "p-l82tc","stream": "stdout","kubernetes.namespace_labels.cattle_io/creator": "norman","kubernetes.node.labels.kubernetes_io/arch_a": "amd64","kubernetes.pod.name": "fe-6fc48c96df-hh8v9","container.image.name_a": "harbor.bk.sapo.pt/conteudos/production/desportosapopt-fe:20221124_16f7ab817","kubernetes.labels.app_kubernetes_io/version": "0.0.1","log.file.path_a": "/var/log/containers/fe-6fc48c96df-hh8v9_sapo-conteudos-desportosapopt-prod_fe-16f4b6de089e205e36a0d7b00b698e6385f3c22a1541a3c1803430bdaf2c0a94.log","kubernetes.node.labels.node-role_kubernetes_io/worker": "true","agent.type_a": "filebeat","kubernetes.pod.ip": "10.42.8.47","agent.ephemeral_id_a": "72cecd15-11bb-4f36-a928-0ee281e729a9","kubernetes.container.name": "fe","kubernetes.labels.pod-template-hash_a": "6fc48c96df","agent.name_a": "filebeat-filebeat-jgn5w","kubernetes.node.labels.beta_kubernetes_io/arch_a": "amd64","kubernetes.replicaset.name": "fe-6fc48c96df","kubernetes.labels.app_kubernetes_io/instance_a": "sapo-conteudos-desportosapopt-prod","message": "2022-11-25T17:06:07 [epollEventLoopGroup-3-17] INFO REQUEST: http://desporto.api.backoffice.canais.bk.sapo.pt/v2/search?api_key=fc619df50dae35f7845516fdfb70331d624d675a&q=*:*&filter_query=type:post+AND+tag_slugs:judo&sort=date+desc&taxonomies=post_tag&page_size=24&page=12","kubernetes.node.labels.kubernetes_io/hostname": "sgt-docker08","kubernetes.node.labels.beta_kubernetes_io/arch": "amd64","kubernetes.pod.uid_a": "1d6575d0-794a-4423-9a67-ecfc2b45bdfa","@timestamp": "'"${NOW}"'","kubernetes.replicaset.name_a": "fe-6fc48c96df","container.runtime_a": "docker","kubernetes.labels.app_kubernetes_io/name_a": "sapo-conteudos","kubernetes.labels.app_kubernetes_io/managed-by": "Tiller","log.file.path": "/var/log/containers/fe-6fc48c96df-hh8v9_sapo-conteudos-desportosapopt-prod_fe-16f4b6de089e205e36a0d7b00b698e6385f3c22a1541a3c1803430bdaf2c0a94.log","kubernetes.namespace_labels.field_cattle_io/projectId": "p-l82tc","agent.ephemeral_id": "72cecd15-11bb-4f36-a928-0ee281e729a9","kubernetes.node.labels.kubernetes_io/arch": "amd64","container.id_a": "16f4b6de089e205e36a0d7b00b698e6385f3c22a1541a3c1803430bdaf2c0a94","kubernetes.node.labels.beta_kubernetes_io/os_a": "linux","kubernetes.pod.ip_a": "10.42.8.47"}}'
    echo ""
done